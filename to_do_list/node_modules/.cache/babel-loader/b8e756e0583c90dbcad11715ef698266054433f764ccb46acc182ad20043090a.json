{"ast":null,"code":"import axios from'axios';import React from'react';import{Link,useNavigate}from'react-router-dom';import{getAppConfig}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Password(props){const navigate=useNavigate();const link=getAppConfig().REACT_APP_API_URI;const handleSubmit=async e=>{e.preventDefault();const confirmPass=document.getElementById('confirm_password').value;const password=document.getElementById('password').value;if(confirmPass.length!==0&&confirmPass.trim()!==''&&password.length!==0&&password.trim()!==''){if(confirmPass===password){try{const data={};data.password=password;data.change=true;const res=await axios.put(link,data,{withCredentials:true});const content=res.data;if(content['error']){alert(content['error']);}else if(content['status']&&content['status']===200){navigate('/login');}}catch(error){console.error(error);}}else{alert('confirm password and password are not the same');}}else{alert('empty field');}};const handleClick=e=>{let el=e.target;let count=parseInt(el.getAttribute('data-count'));let parent=el.parentElement;let input=parent.querySelector('input');if(count%2===0){el.classList.remove('fa-eye');el.classList.add('fa-eye-slash');input.type='text';}else{el.classList.remove('fa-eye-slash');el.classList.add('fa-eye');input.type='password';}el.setAttribute('data-count',count+=1);};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid pt-5 auth-cont\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pt-5 container d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center flex-column gap-4 auth-div\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"d-flex justify-content-center align-items-center flex-column gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pass_input_div w-100\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",placeholder:\"password\",required:true}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\",\"data-count\":0,onClick:handleClick})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pass_input_div w-100\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"confirm_password\",type:\"password\",placeholder:\"Confirm password\",required:true}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\",\"data-count\":0,onClick:handleClick})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Change\"})]}),/*#__PURE__*/_jsx(Link,{to:'/signUp',style:{color:'white',display:'flex'},children:\"Don't have an account ?\"})]})})});}export default Password;","map":{"version":3,"names":["axios","React","Link","useNavigate","getAppConfig","jsx","_jsx","jsxs","_jsxs","Password","props","navigate","link","REACT_APP_API_URI","handleSubmit","e","preventDefault","confirmPass","document","getElementById","value","password","length","trim","data","change","res","put","withCredentials","content","alert","error","console","handleClick","el","target","count","parseInt","getAttribute","parent","parentElement","input","querySelector","classList","remove","add","type","setAttribute","className","children","onSubmit","id","placeholder","required","onClick","to","style","color","display"],"sources":["C:/Users/elsas/GitHub-Projects/ToDoList/to_do_list/src/pages/Password.js"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { getAppConfig } from '../config';\r\n\r\nfunction Password(props) {\r\n    const navigate = useNavigate();\r\n    const link = getAppConfig().REACT_APP_API_URI\r\n    const handleSubmit = async(e)=>{\r\n        e.preventDefault()\r\n        const confirmPass = document.getElementById('confirm_password').value;\r\n        const password = document.getElementById('password').value;\r\n        if(\r\n            (confirmPass.length!==0 && confirmPass.trim()!=='')\r\n            && (password.length!==0 && password.trim()!=='')\r\n        ){\r\n            if(confirmPass===password){\r\n                try{\r\n                    const data ={};\r\n                    data.password = password\r\n                    data.change = true\r\n    \r\n                    const res = await axios.put(link, data,{withCredentials:true});\r\n                    const content = res.data\r\n                    if(content['error']){\r\n                        alert(content['error'])\r\n                    }\r\n                    else if(content['status'] && content['status']===200){\r\n                        navigate('/login')\r\n                    }\r\n                }catch(error){\r\n                    console.error(error)\r\n                }\r\n            }\r\n            else{\r\n                alert('confirm password and password are not the same')\r\n            }\r\n           \r\n        }\r\n        else{\r\n            alert('empty field')\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    const handleClick = (e)=>{\r\n        let el = e.target\r\n        let count = parseInt(el.getAttribute('data-count'))\r\n        let parent = el.parentElement\r\n        let input = parent.querySelector('input')\r\n        if(count%2===0){\r\n            el.classList.remove('fa-eye');\r\n            el.classList.add('fa-eye-slash');\r\n            input.type= 'text';\r\n        }\r\n        else{\r\n            \r\n            el.classList.remove('fa-eye-slash');\r\n            el.classList.add('fa-eye');\r\n            input.type = 'password'\r\n        }\r\n        el.setAttribute('data-count',count+=1)\r\n       \r\n        \r\n    }\r\n\r\n    return (\r\n        \r\n        <div className='container-fluid pt-5 auth-cont'>\r\n            <div className='pt-5 container d-flex justify-content-center align-items-center'>\r\n                <div className='d-flex justify-content-center align-items-center flex-column gap-4 auth-div'>\r\n                    <h3>Change Password</h3>\r\n                    <form onSubmit={handleSubmit} className='d-flex justify-content-center align-items-center flex-column gap-4'>\r\n                        <div className='pass_input_div w-100'>\r\n                            <input id='password' type='password' placeholder='password' required />\r\n                            <i className='fa fa-eye' data-count={0} onClick={handleClick}></i>\r\n                        </div>\r\n                        <div className='pass_input_div w-100'>\r\n                            <input id='confirm_password' type='password' placeholder='Confirm password' required/>\r\n                            <i className='fa fa-eye' data-count={0} onClick={handleClick}></i>\r\n                        </div>\r\n                        <button type='submit'>Change</button>\r\n                    </form>\r\n                    <Link to={'/signUp'} style={{color: 'white',display:'flex'}}>Don't have an account ?</Link>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Password;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}