{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{getAppConfig}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PendingTasksMain(props){const[name,setName]=useState('');const[projects,setProjects]=useState([]);const[tasks,setTasks]=useState([]);const[doneTasks,setDoneTasks]=useState([]);const[id,setId]=useState(0);const[deadline,setDeadline]=useState('');const[username,setUsername]=useState('');const link=getAppConfig().REACT_APP_API_URI;useEffect(()=>{handleReload();},[]);const handleReload=async()=>{try{const res=await axios.get(link,{'params':{'pendingTaskReload':true},withCredentials:true});const data=res.data;if(data.projects){setProjects(data.projects);}}catch(error){console.error(error);}};const handleSelectProject=e=>{const option=e.target.selectedOptions[0];const id=option.getAttribute('data-id');const name=option.getAttribute('data-name');const username=option.getAttribute('data-c-username');const deadline=option.getAttribute('data-deadline');setName(name);setId(id);setDeadline(deadline);setUsername(username);getTasks(id);};const getTasks=async id=>{try{const res=await axios.get(link,{'params':{'getMyTasksId':id},withCredentials:true});const data=res.data;if(data.tasks){setTasks(data.tasks);}if(data.done_tasks){setDoneTasks(data.done_tasks);}}catch(error){console.error(error);}};const handleCheck=async e=>{const input=e.target;const id1=input.getAttribute('data-id');const checkPrTask=input.getAttribute('data-check');try{await axios.put(link,{'id':id1,checkPrTask},{withCredentials:true});getTasks(id);}catch(error){console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid pb-5 team_cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-start align-items-start flex-column gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-start gap-3 flex-column\",children:/*#__PURE__*/_jsxs(\"select\",{defaultValue:'d',id:\"select_team\",onInput:handleSelectProject,children:[/*#__PURE__*/_jsx(\"option\",{value:'d',disabled:true,children:\"Select a project\"}),projects.map(item=>/*#__PURE__*/_jsx(\"option\",{\"data-deadline\":item.project_deadline,\"data-c-username\":item.creator_username,\"data-id\":item.id,\"data-name\":item.p_name,children:item.p_name},item.id))]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex justify-content-center align-items-start flex-column gap-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"pt-4\",children:name}),/*#__PURE__*/_jsx(\"span\",{children:deadline}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Creator: \",username]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-5 container d-flex justify-content-between align-items-start flex-wrap gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team_box p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tasks\"}),tasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 task_div justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-start align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",\"data-id\":task['id'],\"data-check\":1,onClick:handleCheck}),/*#__PURE__*/_jsx(\"h4\",{\"data-key\":task['id'],className:\"text_task\",children:task['task']})]}),/*#__PURE__*/_jsx(\"span\",{children:task['deadline']})]},task['id']))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ended-tasks team_box p-4 \",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Done Tasks  \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-check\"})]}),doneTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 task_div justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-start align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",\"data-id\":task['id'],defaultChecked:true,\"data-check\":0,onClick:handleCheck}),/*#__PURE__*/_jsx(\"h4\",{\"data-key\":task['id'],className:\"text_task\",children:task['task']})]}),/*#__PURE__*/_jsx(\"span\",{children:task['done_date']})]},task['id']))]})]})]});}export default PendingTasksMain;","map":{"version":3,"names":["axios","React","useEffect","useState","getAppConfig","jsx","_jsx","jsxs","_jsxs","PendingTasksMain","props","name","setName","projects","setProjects","tasks","setTasks","doneTasks","setDoneTasks","id","setId","deadline","setDeadline","username","setUsername","link","REACT_APP_API_URI","handleReload","res","get","withCredentials","data","error","console","handleSelectProject","e","option","target","selectedOptions","getAttribute","getTasks","done_tasks","handleCheck","input","id1","checkPrTask","put","className","children","defaultValue","onInput","value","disabled","map","item","project_deadline","creator_username","p_name","task","type","onClick","defaultChecked"],"sources":["C:/Users/elsas/GitHub-Projects/ToDoList/to_do_list/src/componets/PendingTasksMain.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getAppConfig } from '../config';\r\n\r\nfunction PendingTasksMain(props) {\r\n    const [name,setName] = useState('');\r\n    const [projects,setProjects] = useState([])\r\n    const [tasks,setTasks] = useState([]);\r\n    const [doneTasks,setDoneTasks] = useState([])\r\n    const [id,setId] = useState(0);\r\n    const [deadline,setDeadline] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const link = getAppConfig().REACT_APP_API_URI\r\n    useEffect(()=>{\r\n        handleReload();\r\n\r\n    },[])\r\n\r\n    const handleReload = async()=>{\r\n        try{\r\n            const res = await axios.get(link,{\r\n                'params':{\r\n                    'pendingTaskReload':true\r\n                },\r\n                withCredentials:true\r\n            })\r\n            const data = res.data\r\n            if(data.projects){\r\n                setProjects(data.projects)\r\n            }\r\n        }\r\n        catch(error){\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n\r\n    const handleSelectProject = (e)=>{\r\n        const  option= e.target.selectedOptions[0]\r\n        const id = option.getAttribute('data-id');\r\n        const name = option.getAttribute('data-name');\r\n        const username = option.getAttribute('data-c-username');\r\n        const deadline = option.getAttribute('data-deadline');\r\n        setName(name);\r\n        setId(id);\r\n        setDeadline(deadline)\r\n        setUsername(username);\r\n        getTasks(id);\r\n\r\n    }\r\n\r\n    const getTasks= async(id)=>{\r\n        try{\r\n            const res = await axios.get(link,{\r\n                'params':{\r\n                    'getMyTasksId':id\r\n                },\r\n                withCredentials:true\r\n            })\r\n            const data=  res.data\r\n            if(data.tasks){\r\n                setTasks(data.tasks)\r\n            }\r\n            if(data.done_tasks){\r\n                setDoneTasks(data.done_tasks);\r\n            }\r\n        }\r\n        catch(error){\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n\r\n    const handleCheck = async(e)=>{\r\n        const input = e.target\r\n        const id1 = input.getAttribute('data-id')\r\n        const checkPrTask = input.getAttribute('data-check');\r\n        try{\r\n            await axios.put(link,{\r\n              'id':id1,\r\n              checkPrTask  \r\n            },{withCredentials:true});\r\n            getTasks(id);\r\n        }\r\n        catch(error){\r\n            console.error(error)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='container-fluid pb-5 team_cont'>\r\n            <div className='container d-flex justify-content-start align-items-start flex-column gap-4'>\r\n                <div className='d-flex justify-content-between align-items-start gap-3 flex-column'>\r\n           \r\n                    <select defaultValue={'d'} id='select_team' onInput={handleSelectProject}>\r\n                        <option value={'d'} disabled>Select a project</option>\r\n                        {projects.map(item=>(\r\n                            <option key={item.id} data-deadline={item.project_deadline} \r\n                                data-c-username={item.creator_username}\r\n                                data-id={item.id} data-name={item.p_name}>\r\n                                {item.p_name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className='w-100 d-flex justify-content-center align-items-start flex-column gap-3'>\r\n                    <h2 className='pt-4'>{name}</h2>\r\n                    <span>{deadline}</span>\r\n                    <span>Creator: {username}</span>\r\n                </div>\r\n            </div>\r\n            <div className='pt-5 container d-flex justify-content-between align-items-start flex-wrap gap-4'>\r\n                <div className='team_box p-4'>\r\n                    <h3>Tasks</h3>\r\n                    {tasks.map((task)=>(\r\n                        <div key={task['id']} className='w-100 task_div justify-content-between'>\r\n                            <div className='d-flex justify-content-start align-items-center'> \r\n                                <input type='checkbox' data-id={task['id']} data-check={1} onClick={handleCheck}/>\r\n                                <h4 data-key={task['id']} className='text_task'>{task['task']}</h4>\r\n                            </div>\r\n                            <span>{task['deadline']}</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className='ended-tasks team_box p-4 '>\r\n                    <h3>Done Tasks  <i className='fa fa-check'></i></h3>\r\n                    {doneTasks.map((task)=>(\r\n                        <div key={task['id']} className='w-100 task_div justify-content-between'>\r\n                            <div className='d-flex justify-content-start align-items-center'> \r\n                                <input type='checkbox' data-id={task['id']} defaultChecked data-check={0} onClick={handleCheck}/>\r\n                                <h4 data-key={task['id']} className='text_task'>{task['task']}</h4>\r\n                            </div>\r\n                            <span>{task['done_date']}</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PendingTasksMain;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,YAAY,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,gBAAgBA,CAACC,KAAK,CAAE,CAC7B,KAAM,CAACC,IAAI,CAACC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACnC,KAAM,CAACU,QAAQ,CAACC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC3C,KAAM,CAACY,KAAK,CAACC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACrC,KAAM,CAACc,SAAS,CAACC,YAAY,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC7C,KAAM,CAACgB,EAAE,CAACC,KAAK,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAC9B,KAAM,CAACkB,QAAQ,CAACC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC3C,KAAM,CAACoB,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAsB,IAAI,CAAGrB,YAAY,CAAC,CAAC,CAACsB,iBAAiB,CAC7CxB,SAAS,CAAC,IAAI,CACVyB,YAAY,CAAC,CAAC,CAElB,CAAC,CAAC,EAAE,CAAC,CAEL,KAAM,CAAAA,YAAY,CAAG,KAAAA,CAAA,GAAS,CAC1B,GAAG,CACC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAA5B,KAAK,CAAC6B,GAAG,CAACJ,IAAI,CAAC,CAC7B,QAAQ,CAAC,CACL,mBAAmB,CAAC,IACxB,CAAC,CACDK,eAAe,CAAC,IACpB,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAGH,GAAG,CAACG,IAAI,CACrB,GAAGA,IAAI,CAAClB,QAAQ,CAAC,CACbC,WAAW,CAACiB,IAAI,CAAClB,QAAQ,CAAC,CAC9B,CACJ,CACA,MAAMmB,KAAK,CAAC,CACRC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CACJ,CAAC,CAGD,KAAM,CAAAE,mBAAmB,CAAIC,CAAC,EAAG,CAC7B,KAAO,CAAAC,MAAM,CAAED,CAAC,CAACE,MAAM,CAACC,eAAe,CAAC,CAAC,CAAC,CAC1C,KAAM,CAAAnB,EAAE,CAAGiB,MAAM,CAACG,YAAY,CAAC,SAAS,CAAC,CACzC,KAAM,CAAA5B,IAAI,CAAGyB,MAAM,CAACG,YAAY,CAAC,WAAW,CAAC,CAC7C,KAAM,CAAAhB,QAAQ,CAAGa,MAAM,CAACG,YAAY,CAAC,iBAAiB,CAAC,CACvD,KAAM,CAAAlB,QAAQ,CAAGe,MAAM,CAACG,YAAY,CAAC,eAAe,CAAC,CACrD3B,OAAO,CAACD,IAAI,CAAC,CACbS,KAAK,CAACD,EAAE,CAAC,CACTG,WAAW,CAACD,QAAQ,CAAC,CACrBG,WAAW,CAACD,QAAQ,CAAC,CACrBiB,QAAQ,CAACrB,EAAE,CAAC,CAEhB,CAAC,CAED,KAAM,CAAAqB,QAAQ,CAAE,KAAM,CAAArB,EAAE,EAAG,CACvB,GAAG,CACC,KAAM,CAAAS,GAAG,CAAG,KAAM,CAAA5B,KAAK,CAAC6B,GAAG,CAACJ,IAAI,CAAC,CAC7B,QAAQ,CAAC,CACL,cAAc,CAACN,EACnB,CAAC,CACDW,eAAe,CAAC,IACpB,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAGH,GAAG,CAACG,IAAI,CACrB,GAAGA,IAAI,CAAChB,KAAK,CAAC,CACVC,QAAQ,CAACe,IAAI,CAAChB,KAAK,CAAC,CACxB,CACA,GAAGgB,IAAI,CAACU,UAAU,CAAC,CACfvB,YAAY,CAACa,IAAI,CAACU,UAAU,CAAC,CACjC,CACJ,CACA,MAAMT,KAAK,CAAC,CACRC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CACJ,CAAC,CAGD,KAAM,CAAAU,WAAW,CAAG,KAAM,CAAAP,CAAC,EAAG,CAC1B,KAAM,CAAAQ,KAAK,CAAGR,CAAC,CAACE,MAAM,CACtB,KAAM,CAAAO,GAAG,CAAGD,KAAK,CAACJ,YAAY,CAAC,SAAS,CAAC,CACzC,KAAM,CAAAM,WAAW,CAAGF,KAAK,CAACJ,YAAY,CAAC,YAAY,CAAC,CACpD,GAAG,CACC,KAAM,CAAAvC,KAAK,CAAC8C,GAAG,CAACrB,IAAI,CAAC,CACnB,IAAI,CAACmB,GAAG,CACRC,WACF,CAAC,CAAC,CAACf,eAAe,CAAC,IAAI,CAAC,CAAC,CACzBU,QAAQ,CAACrB,EAAE,CAAC,CAChB,CACA,MAAMa,KAAK,CAAC,CACRC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CAEJ,CAAC,CAED,mBACIxB,KAAA,QAAKuC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC3CxC,KAAA,QAAKuC,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACvF1C,IAAA,QAAKyC,SAAS,CAAC,oEAAoE,CAAAC,QAAA,cAE/ExC,KAAA,WAAQyC,YAAY,CAAE,GAAI,CAAC9B,EAAE,CAAC,aAAa,CAAC+B,OAAO,CAAEhB,mBAAoB,CAAAc,QAAA,eACrE1C,IAAA,WAAQ6C,KAAK,CAAE,GAAI,CAACC,QAAQ,MAAAJ,QAAA,CAAC,kBAAgB,CAAQ,CAAC,CACrDnC,QAAQ,CAACwC,GAAG,CAACC,IAAI,eACdhD,IAAA,WAAsB,gBAAegD,IAAI,CAACC,gBAAiB,CACvD,kBAAiBD,IAAI,CAACE,gBAAiB,CACvC,UAASF,IAAI,CAACnC,EAAG,CAAC,YAAWmC,IAAI,CAACG,MAAO,CAAAT,QAAA,CACxCM,IAAI,CAACG,MAAM,EAHHH,IAAI,CAACnC,EAIV,CACX,CAAC,EACE,CAAC,CACR,CAAC,cACNX,KAAA,QAAKuC,SAAS,CAAC,yEAAyE,CAAAC,QAAA,eACpF1C,IAAA,OAAIyC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAErC,IAAI,CAAK,CAAC,cAChCL,IAAA,SAAA0C,QAAA,CAAO3B,QAAQ,CAAO,CAAC,cACvBb,KAAA,SAAAwC,QAAA,EAAM,WAAS,CAACzB,QAAQ,EAAO,CAAC,EAC/B,CAAC,EACL,CAAC,cACNf,KAAA,QAAKuC,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAC5FxC,KAAA,QAAKuC,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzB1C,IAAA,OAAA0C,QAAA,CAAI,OAAK,CAAI,CAAC,CACbjC,KAAK,CAACsC,GAAG,CAAEK,IAAI,eACZlD,KAAA,QAAsBuC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACpExC,KAAA,QAAKuC,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC5D1C,IAAA,UAAOqD,IAAI,CAAC,UAAU,CAAC,UAASD,IAAI,CAAC,IAAI,CAAE,CAAC,aAAY,CAAE,CAACE,OAAO,CAAElB,WAAY,CAAC,CAAC,cAClFpC,IAAA,OAAI,WAAUoD,IAAI,CAAC,IAAI,CAAE,CAACX,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEU,IAAI,CAAC,MAAM,CAAC,CAAK,CAAC,EAClE,CAAC,cACNpD,IAAA,SAAA0C,QAAA,CAAOU,IAAI,CAAC,UAAU,CAAC,CAAO,CAAC,GALzBA,IAAI,CAAC,IAAI,CAMd,CACR,CAAC,EACD,CAAC,cACNlD,KAAA,QAAKuC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACtCxC,KAAA,OAAAwC,QAAA,EAAI,cAAY,cAAA1C,IAAA,MAAGyC,SAAS,CAAC,aAAa,CAAI,CAAC,EAAI,CAAC,CACnD9B,SAAS,CAACoC,GAAG,CAAEK,IAAI,eAChBlD,KAAA,QAAsBuC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACpExC,KAAA,QAAKuC,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC5D1C,IAAA,UAAOqD,IAAI,CAAC,UAAU,CAAC,UAASD,IAAI,CAAC,IAAI,CAAE,CAACG,cAAc,MAAC,aAAY,CAAE,CAACD,OAAO,CAAElB,WAAY,CAAC,CAAC,cACjGpC,IAAA,OAAI,WAAUoD,IAAI,CAAC,IAAI,CAAE,CAACX,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEU,IAAI,CAAC,MAAM,CAAC,CAAK,CAAC,EAClE,CAAC,cACNpD,IAAA,SAAA0C,QAAA,CAAOU,IAAI,CAAC,WAAW,CAAC,CAAO,CAAC,GAL1BA,IAAI,CAAC,IAAI,CAMd,CACR,CAAC,EACD,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAjD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}