{"ast":null,"code":"import React from'react';import{GoogleLogin}from'@react-oauth/google';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import'../assets/css/auth.css';import{getAppConfig}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){const navigate=useNavigate();const link=getAppConfig().REACT_APP_API_URI;const handleSuccess=async c=>{const token=c.credential;try{const data_={};data_.googleToken=token;const res=await axios.post(link,data_,{withCredentials:true});let data=res.data;if(data['error']){alert(data['error']);}else if(data['status']&&data['status']===200){navigate('/profile');}}catch(error){console.error(error);}};const handleError=()=>{alert('Login failed');};const handleSubmit=async e=>{e.preventDefault();const email=document.getElementById('email').value;const password=document.getElementById('password').value;if(email.length!==0&&email.trim()!==''&&password.length!==0&&password.trim()!==''){try{const data={};data.login=true;data.email=email;data.password=password;const res=await axios.post(link,data,{withCredentials:true});const content=res.data;if(content['error']){alert(content['error']);}else if(content['status']&&content['status']===200){navigate('/profile');}}catch(error){console.error(error);}}else{alert('empty field');}};const handleClick=e=>{let el=e.target;let count=parseInt(el.getAttribute('data-count'));let parent=el.parentElement;let input=parent.querySelector('input');if(count%2===0){el.classList.remove('fa-eye');el.classList.add('fa-eye-slash');input.type='text';}else{el.classList.remove('fa-eye-slash');el.classList.add('fa-eye');input.type='password';}el.setAttribute('data-count',count+=1);};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid pt-5 auth-cont\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pt-5 container d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center flex-column gap-4 auth-div\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"}),/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleSuccess,onError:handleError}),/*#__PURE__*/_jsx(\"span\",{children:\"or\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"d-flex justify-content-center align-items-center flex-column gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",placeholder:\"email\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"pass_input_div\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",placeholder:\"password\",required:true}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\",\"data-count\":0,onClick:handleClick})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsx(Link,{to:'/email',style:{color:'white'},children:\"Forgot password?\"}),/*#__PURE__*/_jsx(Link,{to:'/signUp',style:{color:'white',display:'flex'},children:\"Don't have an account ?\"})]})})});}export default Login;","map":{"version":3,"names":["React","GoogleLogin","axios","Link","useNavigate","getAppConfig","jsx","_jsx","jsxs","_jsxs","Login","props","navigate","link","REACT_APP_API_URI","handleSuccess","c","token","credential","data_","googleToken","res","post","withCredentials","data","alert","error","console","handleError","handleSubmit","e","preventDefault","email","document","getElementById","value","password","length","trim","login","content","handleClick","el","target","count","parseInt","getAttribute","parent","parentElement","input","querySelector","classList","remove","add","type","setAttribute","className","children","onSuccess","onError","onSubmit","id","placeholder","required","onClick","to","style","color","display"],"sources":["C:/Users/elsas/GitHub-Projects/ToDoList/to_do_list/src/pages/Login.js"],"sourcesContent":["import React from 'react';\r\nimport { GoogleLogin } from '@react-oauth/google';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport '../assets/css/auth.css';\r\nimport { getAppConfig } from '../config';\r\nfunction Login(props) {\r\n    const navigate = useNavigate();\r\n    const link = getAppConfig().REACT_APP_API_URI\r\n    const handleSuccess = async(c)=>{\r\n        const token = c.credential\r\n        try{\r\n            const data_ ={};\r\n            data_.googleToken = token\r\n            const res = await axios.post(link,data_,{withCredentials:true});\r\n            let data = res.data\r\n            if(data['error']){\r\n                alert(data['error'])\r\n            }\r\n            else if(data['status'] && data['status']===200){\r\n                navigate('/profile')\r\n            }\r\n\r\n        }catch(error){\r\n            console.error(error)\r\n        }\r\n        \r\n    }\r\n\r\n    const handleError =()=>{\r\n        alert('Login failed')\r\n    }\r\n\r\n    const handleSubmit = async(e)=>{\r\n        e.preventDefault()\r\n\r\n        const email = document.getElementById('email').value\r\n        const password = document.getElementById('password').value;\r\n        if(\r\n            (email.length!==0 && email.trim()!=='')\r\n            && (password.length!==0 && password.trim()!=='')\r\n        ){\r\n            try{\r\n                const data ={};\r\n                data.login= true\r\n                data.email = email\r\n                data.password = password\r\n\r\n                const res = await axios.post(link, data,{withCredentials:true});\r\n                const content = res.data\r\n                if(content['error']){\r\n                    alert(content['error'])\r\n                }\r\n                else if(content['status'] && content['status']===200){\r\n                    navigate('/profile')\r\n                }\r\n            }catch(error){\r\n                console.error(error)\r\n            }\r\n        }\r\n        else{\r\n            alert('empty field')\r\n        }\r\n        \r\n    }\r\n\r\n    const handleClick = (e)=>{\r\n        let el = e.target\r\n        let count = parseInt(el.getAttribute('data-count'))\r\n        let parent = el.parentElement\r\n        let input = parent.querySelector('input')\r\n        if(count%2===0){\r\n            el.classList.remove('fa-eye');\r\n            el.classList.add('fa-eye-slash');\r\n            input.type= 'text';\r\n        }\r\n        else{\r\n            \r\n            el.classList.remove('fa-eye-slash');\r\n            el.classList.add('fa-eye');\r\n            input.type = 'password'\r\n        }\r\n        el.setAttribute('data-count',count+=1)\r\n       \r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        \r\n        <div className='container-fluid pt-5 auth-cont'>\r\n            <div className='pt-5 container d-flex justify-content-center align-items-center'>\r\n                <div className='d-flex justify-content-center align-items-center flex-column gap-4 auth-div'>\r\n                    <h3>Login</h3>\r\n                    <GoogleLogin\r\n\r\n                        onSuccess={handleSuccess}\r\n                        onError={handleError} \r\n                    />\r\n                    <span>or</span>\r\n                    <form onSubmit={handleSubmit} className='d-flex justify-content-center align-items-center flex-column gap-4'>\r\n                        <input id='email' type='email' placeholder='email' required/>\r\n                        <div className='pass_input_div'>\r\n                            <input id='password' type='password' placeholder='password' required />\r\n                            <i className='fa fa-eye' data-count={0} onClick={handleClick}></i>\r\n                        </div>\r\n                        <button type='submit'>Login</button>\r\n                    </form>\r\n                    <Link to={'/email'} style={{color: 'white'}}>Forgot password?</Link>\r\n                    <Link to={'/signUp'} style={{color: 'white',display:'flex'}}>Don't have an account ?</Link>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}